<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Members Only — Docotela X</title>

  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="membersonly">

  <!-- TOP NAV CENTER -->
  <div class="top-nav" role="navigation" aria-label="Main">
    <a href="home.html">Home</a>
    <a href="collections.html">Collections</a>
    <a href="contact.html">Contact</a>
  </div>

  <!-- HAMBURGER (top-right) -->
  <button class="hamburger" aria-label="Open menu" title="Open menu">☰</button>

  <!-- GLOBAL SLIDE MENU -->
  <nav id="mobileMenu" class="mobile-menu" aria-hidden="true">
    <a href="home.html">Home</a>
    <a href="collections.html">Collections</a>
    <a href="gallery.html">Art Gallery</a>
    <a href="exclusive-drops.html">Exclusive Drops</a>
    <a href="membersonly.html">Members Only</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
  </nav>

  <!-- BACKGROUND LAYERS -->
  <div class="members-bg" aria-hidden="true">
    <div class="watermark-large">DOCOTELA X</div>
    <div class="angelic-fog" id="angelicFog"></div>
  </div>

  <!-- MAIN STAGE -->
  <main class="members-wrap" role="main">
    <div class="gate-stage">

      <!-- gate visual (gold, realistic style) -->
      <div class="gate-visual" aria-hidden="true">
        <div class="gate-panel left closed" id="leftGate">
          <div class="gilded"></div>
          <div class="bolt-detail"></div>
        </div>

        <div class="gate-panel right closed" id="rightGate">
          <div class="gilded"></div>
          <div class="bolt-detail"></div>
        </div>

        <div class="divine-light" id="divineLight" aria-hidden="true"></div>
      </div>

      <!-- floating card with password -->
      <div class="gate-card" id="gateCard" role="region" aria-label="Members access">
        <h2>Members Only</h2>
        <p class="muted">Enter the access key to reveal the private archive.</p>

        <div class="input-row">
          <input id="pwInput" type="password" inputmode="text" autocomplete="off" placeholder="Access key" aria-label="Access key">
          <button id="openBtn" class="gold-btn" aria-label="Open gates">Open</button>
        </div>

        <p id="feedback" class="muted small" aria-live="polite" style="display:none;color:#e9b86b;"></p>
      </div>
    </div>
  </main>

  <!-- Global script for menu + gate logic -->
  <script src="menu.js"></script>

  <script>
    // MEMBERS GATE LOGIC (final)
    (function(){
      const PASSWORD = "M3Mberson1y"; // final password (case-sensitive)
      const leftGate = document.getElementById('leftGate');
      const rightGate = document.getElementById('rightGate');
      const divine = document.getElementById('divineLight');
      const openBtn = document.getElementById('openBtn');
      const pwInput = document.getElementById('pwInput');
      const feedback = document.getElementById('feedback');
      const fog = document.getElementById('angelicFog');
      const gateCard = document.getElementById('gateCard');

      // initial subtle entrance
      window.addEventListener('load', () => {
        setTimeout(()=> gateCard.classList.add('entered'), 140);
        setTimeout(()=> { if(fog) fog.classList.add('visible'); }, 260);
      });

      function failAnim(){
        feedback.style.display = 'block';
        feedback.textContent = 'Access denied';
        gateCard.animate([{transform:'translateY(0)'},{transform:'translateY(-8px)'},{transform:'translateY(0)'}], {duration:360, easing:'ease-out'});
        pwInput.classList.add('shake');
        setTimeout(()=>{ pwInput.classList.remove('shake'); }, 420);
      }

      function openSequence(){
        // open gate panels
        leftGate.classList.remove('closed'); leftGate.classList.add('open');
        rightGate.classList.remove('closed'); rightGate.classList.add('open');

        // reveal divine light and intensify fog
        divine.classList.add('visible');
        if(fog){ fog.style.transition='opacity 0.9s ease'; fog.style.opacity='0.9'; }

        // small card push and fade
        gateCard.classList.add('leaving');
        setTimeout(()=> {
          // redirect after animation
          window.location.href = 'private-collection.html';
        }, 1400);
      }

      openBtn.addEventListener('click', function(){
        feedback.style.display = 'none';
        const v = String(pwInput.value || '').trim();
        if(v === PASSWORD){
          openSequence();
        } else {
          failAnim();
        }
      });

      // allow Enter
      pwInput.addEventListener('keydown', function(e){
        if(e.key === 'Enter'){ openBtn.click(); }
      });
    })();
  </script>
</body>
</html>
